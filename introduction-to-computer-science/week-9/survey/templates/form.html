{% extends "layout.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block main %}

<div class="container pt-5">
    <h1 class="mb-3">Anime form</h1>

    <form method="POST" action="/form" class="needs-validation mt-4" novalidate>
        {{ form.hidden_tag() }}

        <div class="form-group mb-3">
            {{ wtf.form_field(form.nickname, class="form-control mt-2") }}
        </div>

        <div class="form-group mb-3">
            {{ wtf.form_field(form.email, class="form-control mt-2") }}
        </div>

        <div class="form-group mb-3">
            {{ wtf.form_field(form.favorite_anime, class="form-control mt-2") }}
        </div>

        <fieldset class="form-group row mb-3">
            <legend class="col-form-label col-sm-2 pt-0">Is your age below 18?</legend>
            <div class="col-sm-10">
                <div class="form-check">
                    {{ wtf.form_field(form.age) }}
                </div>
            </div>
        </fieldset>


        <fieldset class="form-group row mb-3">
            <legend class="col-form-label col-sm-2 pt-0">About me</legend>
            <div class="col-sm-10">
                <div class="form-check">
                    {{ wtf.form_field(form.is_gay) }}
                </div>
            </div>
        </fieldset>

        <button class="btn btn-primary" type="submit">Submit</button>
    </form>

    <script>
        (() => {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            const form = document.querySelector('.needs-validation')

            // Loop over them and prevent submission
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
        })()
    </script>
</div>

{% endblock %}